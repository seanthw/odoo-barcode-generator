<?xml version="1.0" encoding="utf-8"?>
<odoo>
<!-- Add button to product form view -->
<record id="product_template_form_view_barcode_button" model="ir.ui.view">
    <field name="name">product.template.form.barcode.button</field>
    <field name="model">product.template</field>
    <field name="inherit_id" ref="product.product_template_form_view"/>
    <field name="arch" type="xml">
        <div name="button_box" position="inside">
            <button class="oe_stat_button" name="generate_barcode" type="object"
                    string="Generate Barcode" icon="fa-barcode"
                    invisible="barcode or not default_code"/>
        </div>
    </field>
</record>
    
<!-- Add action to generate all barcodes -->
<record id="action_generate_all_barcodes" model="ir.actions.server">
    <field name="name">Generate All Barcodes</field>
    <field name="model_id" ref="product.model_product_template"/>
    <field name="binding_model_id" ref="product.model_product_template"/>
    <field name="binding_view_types">list</field>
    <field name="state">code</field>
    <field name="code">action = model.generate_all_barcodes()</field>
</record>
    
<!-- Add action to force generate all barcodes -->
<record id="action_force_generate_all_barcodes" model="ir.actions.server">
    <field name="name">Force Generate All Barcodes</field>
    <field name="model_id" ref="product.model_product_template"/>
    <field name="binding_model_id" ref="product.model_product_template"/>
    <field name="binding_view_types">list</field>
    <field name="state">code</field>
    <field name="code">action = model.generate_all_barcodes(force=True)</field>
</record>
    
<!-- Add action to clear all barcodes -->
<record id="action_clear_all_barcodes" model="ir.actions.server">
    <field name="name">Clear All Barcodes</field>
    <field name="model_id" ref="product.model_product_template"/>
    <field name="binding_model_id" ref="product.model_product_template"/>
    <field name="binding_view_types">list</field>
    <field name="state">code</field>
    <field name="code">action = model.clear_all_barcodes()</field>
</record>
</odoo>
